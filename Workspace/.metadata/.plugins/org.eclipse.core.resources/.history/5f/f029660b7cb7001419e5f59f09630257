


#include <stdio.h>
#include "os.h"

int main()
{
	// This has to be first
		OS_init();

		// Initialize PPP and PPPMax[]
		PPPLen 				= MAXPROCESS;
		int PPP[PPPLen] 	= { 0 };
		int PPPMax[PPPLen] 	= { 0 };


		// here we can only call OS_Create(), OS_InitSem(), and OS_InitFiFo()
		int i = 0;
		for(i = 0; i < MAXSEM; i++)	OS_InitSem(0,999999999);

		FIFO fifos[MAXFIFO] = {0};
		for(i = 0; i < MAXFIFO; i++) {
			fifos[i] = OS_InitFiFo( );
			if(fifos[i] == INVALIDFIFO) {
				printf("SUCCESS");
				return -1;
			}
		}

		// Boot the OS
		OS_Start(); // This never returns?

  return 0;
}

